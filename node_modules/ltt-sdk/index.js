var $ = require('jquery');
var isBrowser = false;
var Moment = require('moment');
var isBrowser = typeof process === 'undefined';
var evernoteSync = require('tracker/sync/evernote');


function syncNote(config) {
    var mStart, mEnd;
    if (config.start && config.end) {
        mStart = new Moment(config.start);
        mEnd = new Moment(config.end);
    } else {
        mStart = new Moment().startOf('month');
        mEnd = new Moment().endOf('month');
    }
    if (config.type === 'evernote') {
        evernoteSync.sync({
            start: mStart.toDate(),
            end: mEnd.toDate()
        }).then(function (result) {
            alert(result);
        });
    }
    return evernoteSync.sync({
        start: mStart.toDate(),
        end: mEnd.toDate()
    });
}

exports.syncEvernote = function (start, end) {
    return syncNote({
        type: 'evernote',
        start: start,
        end: end
    });
};