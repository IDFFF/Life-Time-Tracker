var request = require('request');
var $ = require('jquery');
var _ = require('lodash');
var Q = require('q');
var isBrowser = false;
var server = 'http://localhost:3333/';


if (navigator.userAgent) {

}

exports.get = function (url) {
    var deferred = Q.defer();
    var args = _.toArray(arguments);
    if (isBrowser) {
        $.get.apply($, args)
         .then(function (result) {
            deferred.resolve()
         })
    } else {
        request(toUrl(url), function (error, response, body) {
            if (!error && response.statusCode == 200) {
                console.log(body) // Print the google web page.
            }
        });
    }
}


function toUrl(api) {
    return server + api;
}