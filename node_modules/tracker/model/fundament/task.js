/**
 * Task
 */
'use strict';

var numeral = require('numeral');

var Task = function (name, attrs, hasSubTasks) {
    var progress, type;
    this.name = name;
    if (attrs) {
        progress =  attrs.progress || attrs.pg;
        type = attrs.type || attrs.tp;
        delete attrs.type;
        delete attrs.tp;
        delete attrs.progress;
        delete attrs.pg;
    }
    this.attributes = attrs || {};
    if (type) {
        this.type = type;
    }
    if (progress !== undefined && progress !== null) {
        this.progress = numeral(progress).value();
    } else {
        //if a task has subTasks, then should not have progress for 100 by default
        if (!hasSubTasks) {
            this.progress = 100;
        }
    }
};

module.exports = Task;
